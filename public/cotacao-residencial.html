<!DOCTYPE html>
<html>

<head>
    <title>Formulário de três etapas</title>

    <!--CSS-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.7.0/nouislider.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.0/themes/base/jquery-ui.css" />
    <link rel="stylesheet" href="./src/css/custom.css" />

    <!--Javascript-->
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <a class="navbar-brand" href="planos.html">Prime Secure</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#">Item1</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Item2</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <div class="container bg-gradiente">
        <div class="row">
            <div class="col-md-6">
                <div class="background-image">
                    <!-- Coloque aqui o código HTML da sua imagem com overlay -->
                </div>
            </div>
            <div class="col-md-6">
                <div>
                    <!-- Container Formulário-->
                    <div class="container container-form col-12 mx-auto">
                        <form action="planos.html" id="form" method="POST">
                            <div>
                                <!-- Inicio da Etapa 1 -->
                                <div id="step-1" class="form-step active">
                                    <h2 class="text-center mt-8">
                                        Para Iniciar Preencha Seus Dados:
                                    </h2>

                                    <div class="row">
                                        <div class="col">
                                            <div class="form-group">
                                                <label for="cpf">CPF: </label>
                                                <input type="text" class="form-control col" id="cpf" name="cpf" required
                                                    minlength="11" maxlength="14" />
                                            </div>
                                        </div>
                                        <div class="col">
                                            <div class="form-group">
                                                <label for="nome">Nome:</label>
                                                <input type="text" class="form-control col nome" id="nome" name="nome"
                                                    minlength="1" maxlength="160" required />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col">
                                            <div class="form-group">
                                                <label for="numerotelefone">Celular ou Telefone:</label>
                                                <input type="text" class="form-control col numerotelefone"
                                                    id="numerotelefone" name="numerotelefone" minlength="10"
                                                    maxlength="11" placeholder="(DDD) 00000-0000" required />
                                            </div>
                                        </div>
                                        <div class="col">
                                            <div class="form-group">
                                                <label for="tipotelefone">Tipo de Telefone</label>
                                                <select class="form-control" id="tipotelefone">
                                                    <option value="0">Telefone Celular</option>
                                                    <option value="1">Telefone Fixo</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="datanascimento">Data de Nascimento</label>
                                                <input type="text" class="form-control col datanascimento"
                                                    id="datanascimento" name="datanascimento" minlength="10"
                                                    maxlength="10" placeholder="DD/MM/YYYY" autocomplete="off"
                                                    required />
                                            </div>
                                        </div>
                                    </div>

                                    <button type="button" class="btn btn-primary next-step" id="next-step"
                                        style="width: 100%">
                                        Iniciar Cotação
                                    </button>
                                </div>
                                <!-- Fim da Etapa 1-->

                                <!-- Etapa 2 -->
                                <div id="step-2" style="display: none" class="form-step">
                                    <h2 class="text-center">Dados de Endereço do Imóvel</h2>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="cep">Cep:</label>
                                                <input type="text" class="form-control col cep" id="cep" name="cep"
                                                    minlength="8" maxlength="8" required />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col">
                                            <div class="form-group">
                                                <label for="logradouro">Endereço:</label>
                                                <input type="text" class="form-control col logradouro" id="logradouro"
                                                    name="logradouro" minlength="1" maxlength="200" required />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col">
                                            <div class="form-group">
                                                <label for="tipo">Tipo de Residência</label>
                                                <select class="form-control tipo" id="tipo">
                                                    <option value="0">Casa</option>
                                                    <option value="1">Apartamento</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col">
                                            <div class="form-group">
                                                <label for="numero">Nº do Imóvel</label>
                                                <input type="number" class="form-control col numero" id="numero"
                                                    name="numero" minlength="1" maxlength="9999" pattern="^[0-9]{1,4}$"
                                                    required />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col">
                                            <div class="form-group">
                                                <label for="bairro">Bairro:</label>
                                                <input type="text" class="form-control col bairro" id="bairro"
                                                    name="bairro" minlength="1" maxlength="40" required />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col">
                                            <div class="form-group">
                                                <label for="cidade">Cidade:</label>
                                                <input type="text" class="form-control col cidade" id="cidade"
                                                    name="cidade" minlength="1" maxlength="40" required />
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="uf">Estado (UF):</label>
                                            <input type="text" class="form-control col uf" id="uf" name="uf" required />
                                        </div>
                                    </div>

                                    <button type="button" class="btn btn-secondary prev-step">
                                        Etapa anterior
                                    </button>
                                    <button type="button" class="btn btn-primary next-step" id="next-step">
                                        Avançar
                                    </button>
                                </div>
                                <!-- Fim da Etapa 2-->

                                <!-- Etapa 3 -->
                                <div id="step-3" style="display: none" class="form-step">
                                    <h2 class="text-center">
                                        Agora Você Pode Personalizar o Seu Seguro
                                    </h2>
                                    <!-- Input Cobertura de Incêndio -->
                                    <div class="row">
                                        <div class="col">
                                            <div class="form-group">
                                                <label for="valorcoberturaincendio" class="form-label">Cobertura de
                                                    Incêndio:</label>
                                                <div class="range-container">
                                                    <input type="range" class="form-range input-coberturas"
                                                        id="valorcoberturaincendio" min="1" max="10000000000" value="10"
                                                        step="100000000" />
                                                    <div class="range-value0">R$ 10.000</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- valorCoberturaSubstracaoBens -->
                                    <div class="row">
                                        <div class="col">
                                            <div class="form-group">
                                                <label for="valorcoberturasubstracaobens" class="form-label">Cobertura
                                                    Substração de Bens:</label>
                                                <div class="range-container">
                                                    <input type="range" class="form-range input-coberturas"
                                                        id="valorcoberturasubstracaobens" min="1" max="10000000000"
                                                        value="10" step="100000000" />
                                                    <div class="range-value1">R$ 10.000</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- valorCoberturaPagamentoAluguel -->
                                    <div class="row">
                                        <div class="col">
                                            <div class="form-group">
                                                <label for="valorcoberturapagamentoaluguel" class="form-label">Cobertura
                                                    Pagamento de Aluguel:</label>
                                                <div class="range-container">
                                                    <input type="range" class="form-range input-coberturas"
                                                        id="valorcoberturapagamentoaluguel" min="1" max="10000000000"
                                                        value="10" step="100000000" />
                                                    <div class="range-value2">R$ 10.000</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <button type="button" class="btn btn-secondary prev-step prev-step-3">
                                        Etapa anterior
                                    </button>
                                    <i class="fa fa-spinner fa-spin loading-icon" style="display: none"></i>
                                    <button type="submit" class="btn btn-success submit-form">
                                        Enviar formulário
                                    </button>
                                </div>
                                <!-- Fim da Etapa 3-->
                            </div>
                        </form>
                    </div>
                    <!-- Fim Container Formulário-->
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.7.0/nouislider.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/@tensorflow/tfjs-fetch"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-ui-i18n/1.12.1/jquery-ui-i18n.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="./src/js/app.js"></script>
    <script src="./src/js/viaCep.js"></script>

    <script>
        //Api que guarda os dados do fomulario e envia para uma api com bearer token
        const submitForm = async (event) => {
            event.preventDefault();

            //Pega os dados do formulario
            const form = document.querySelector('#form');
            const formData = new FormData(form);

            //define as opções para a requisição
            const options = {
                method: 'POST',
                headers: {
                    'Authorization': 'Bearer YzIwMGEwNzYtZTZhZC00MGRhLThkYTktMDg0NmFiODkyNzI1OmZlY2Q0ZTM0LWU2Y2UtNDM1MS05ZDdiLTM3YzkyYmJmOWUxNg==',
                },
                body: formData
            };

            //constroi a lista de parcelamento para a url
            const listaParcelamento = [
                {
                    "diasValidadeOrcamentoNovo": 15,
                    "diasValidadeOrcamentoRenovacao": 30,
                    "diasValidadeOrcamentoEndosso": 15,
                    "numeroOrcamento": 1658497950279,
                    "numeroVersaoOrcamento": 1,
                    "beneficios": {
                        "titulo": "Objeto 1 P.O.S",
                        "beneficio": [
                            {
                                "titulo": "INCÊNDIO, EXPLOSÃO, FUMAÇA E QUEDA DE AERONAVE",
                                "texto": "Não há"
                            }
                        ]
                    },
                    "listaParcelamento": [
                        {
                            "codigo": 21,
                            "descricao": "1 x A VISTA 30 DIAS",
                            "quantidadeParcelas": 1,
                            "valorPrimeiraParcela": 114.25,
                            "valorDemaisParcelas": 0,
                            "valorIOF": 7.85,
                            "valorJuros": 0,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 21,
                            "descricao": "1 x A VISTA A 10 DIAS",
                            "quantidadeParcelas": 1,
                            "valorPrimeiraParcela": 114.25,
                            "valorDemaisParcelas": 0,
                            "valorIOF": 7.85,
                            "valorJuros": 0,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 21,
                            "descricao": "1 x A VISTA A 10 DIAS",
                            "quantidadeParcelas": 1,
                            "valorPrimeiraParcela": 114.25,
                            "valorDemaisParcelas": 0,
                            "valorIOF": 7.85,
                            "valorJuros": 0,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 41,
                            "descricao": "2 x 1.A 10 DIAS, DEMAIS CARNE",
                            "quantidadeParcelas": 2,
                            "valorPrimeiraParcela": 58.53,
                            "valorDemaisParcelas": 58.54,
                            "valorIOF": 8.05,
                            "valorJuros": 2.63,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 41,
                            "descricao": "3 x 1.A 10 DIAS, DEMAIS CARNE",
                            "quantidadeParcelas": 3,
                            "valorPrimeiraParcela": 39.99,
                            "valorDemaisParcelas": 39.98,
                            "valorIOF": 8.24,
                            "valorJuros": 5.31,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 41,
                            "descricao": "4 x 1.A 10 DIAS, DEMAIS CARNE",
                            "quantidadeParcelas": 4,
                            "valorPrimeiraParcela": 30.71,
                            "valorDemaisParcelas": 30.72,
                            "valorIOF": 8.44,
                            "valorJuros": 8.02,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 41,
                            "descricao": "5 x 1.A 10 DIAS, DEMAIS CARNE",
                            "quantidadeParcelas": 5,
                            "valorPrimeiraParcela": 25.16,
                            "valorDemaisParcelas": 25.17,
                            "valorIOF": 8.65,
                            "valorJuros": 10.79,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 41,
                            "descricao": "6 x 1.A 10 DIAS, DEMAIS CARNE",
                            "quantidadeParcelas": 6,
                            "valorPrimeiraParcela": 21.49,
                            "valorDemaisParcelas": 21.47,
                            "valorIOF": 8.86,
                            "valorJuros": 13.59,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 41,
                            "descricao": "7 x 1.A 10 DIAS, DEMAIS CARNE",
                            "quantidadeParcelas": 7,
                            "valorPrimeiraParcela": 18.86,
                            "valorDemaisParcelas": 18.84,
                            "valorIOF": 9.07,
                            "valorJuros": 16.44,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 41,
                            "descricao": "8 x 1.A 10 DIAS, DEMAIS CARNE",
                            "quantidadeParcelas": 8,
                            "valorPrimeiraParcela": 16.84,
                            "valorDemaisParcelas": 16.88,
                            "valorIOF": 9.28,
                            "valorJuros": 19.32,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 41,
                            "descricao": "11 x FRAC.1.A PARCELA CARNE",
                            "quantidadeParcelas": 11,
                            "valorPrimeiraParcela": 13.16,
                            "valorDemaisParcelas": 13.14,
                            "valorIOF": 9.94,
                            "valorJuros": 28.23,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 52,
                            "descricao": "1 x ADC, TODAS AS PARCELAS",
                            "quantidadeParcelas": 1,
                            "valorPrimeiraParcela": 116.44,
                            "valorDemaisParcelas": 0,
                            "valorIOF": 8,
                            "valorJuros": 0,
                            "valorEncargos": 2.04,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 52,
                            "descricao": "2 x ADC, TODAS AS PARCELAS",
                            "quantidadeParcelas": 2,
                            "valorPrimeiraParcela": 58.22,
                            "valorDemaisParcelas": 58.22,
                            "valorIOF": 8,
                            "valorJuros": 0,
                            "valorEncargos": 2.04,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 52,
                            "descricao": "3 x ADC, TODAS AS PARCELAS",
                            "quantidadeParcelas": 3,
                            "valorPrimeiraParcela": 38.82,
                            "valorDemaisParcelas": 38.81,
                            "valorIOF": 8,
                            "valorJuros": 0,
                            "valorEncargos": 2.04,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 52,
                            "descricao": "4 x ADC, TODAS AS PARCELAS",
                            "quantidadeParcelas": 4,
                            "valorPrimeiraParcela": 29.11,
                            "valorDemaisParcelas": 29.11,
                            "valorIOF": 8,
                            "valorJuros": 0,
                            "valorEncargos": 2.04,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 52,
                            "descricao": "5 x ADC, TODAS AS PARCELAS",
                            "quantidadeParcelas": 5,
                            "valorPrimeiraParcela": 23.28,
                            "valorDemaisParcelas": 23.29,
                            "valorIOF": 8,
                            "valorJuros": 0,
                            "valorEncargos": 2.04,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 52,
                            "descricao": "6 x ADC, TODAS AS PARCELAS",
                            "quantidadeParcelas": 6,
                            "valorPrimeiraParcela": 19.39,
                            "valorDemaisParcelas": 19.41,
                            "valorIOF": 8,
                            "valorJuros": 0,
                            "valorEncargos": 2.04,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 52,
                            "descricao": "7 x ADC, TODAS AS PARCELAS",
                            "quantidadeParcelas": 7,
                            "valorPrimeiraParcela": 17.95,
                            "valorDemaisParcelas": 17.95,
                            "valorIOF": 8.64,
                            "valorJuros": 8.42,
                            "valorEncargos": 2.2,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 52,
                            "descricao": "8 x ADC, TODAS AS PARCELAS",
                            "quantidadeParcelas": 8,
                            "valorPrimeiraParcela": 16.47,
                            "valorDemaisParcelas": 16.45,
                            "valorIOF": 9.05,
                            "valorJuros": 13.86,
                            "valorEncargos": 2.31,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 62,
                            "descricao": "1 x CARTAO DE CREDITO (TODAS PARC.EM CARTAO)",
                            "quantidadeParcelas": 1,
                            "valorPrimeiraParcela": 114.25,
                            "valorDemaisParcelas": 0,
                            "valorIOF": 7.85,
                            "valorJuros": 0,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 62,
                            "descricao": "2 x CARTAO DE CREDITO (TODAS PARC.EM CARTAO)",
                            "quantidadeParcelas": 2,
                            "valorPrimeiraParcela": 57.12,
                            "valorDemaisParcelas": 57.13,
                            "valorIOF": 7.85,
                            "valorJuros": 0,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 62,
                            "descricao": "3 x CARTAO DE CREDITO (TODAS PARC.EM CARTAO)",
                            "quantidadeParcelas": 3,
                            "valorPrimeiraParcela": 38.09,
                            "valorDemaisParcelas": 38.08,
                            "valorIOF": 7.85,
                            "valorJuros": 0,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 62,
                            "descricao": "4 x CARTAO DE CREDITO (TODAS PARC.EM CARTAO)",
                            "quantidadeParcelas": 4,
                            "valorPrimeiraParcela": 28.57,
                            "valorDemaisParcelas": 28.56,
                            "valorIOF": 7.85,
                            "valorJuros": 0,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 62,
                            "descricao": "5 x CARTAO DE CREDITO (TODAS PARC.EM CARTAO)",
                            "quantidadeParcelas": 5,
                            "valorPrimeiraParcela": 22.85,
                            "valorDemaisParcelas": 22.85,
                            "valorIOF": 7.85,
                            "valorJuros": 0,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 62,
                            "descricao": "6 x CARTAO DE CREDITO (TODAS PARC.EM CARTAO)",
                            "quantidadeParcelas": 6,
                            "valorPrimeiraParcela": 19.05,
                            "valorDemaisParcelas": 19.04,
                            "valorIOF": 7.85,
                            "valorJuros": 0,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 62,
                            "descricao": "7 x CARTAO DE CREDITO (TODAS PARC.EM CARTAO)",
                            "quantidadeParcelas": 7,
                            "valorPrimeiraParcela": 17.63,
                            "valorDemaisParcelas": 17.61,
                            "valorIOF": 8.47,
                            "valorJuros": 8.42,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 62,
                            "descricao": "8 x CARTAO DE CREDITO (TODAS PARC.EM CARTAO)",
                            "quantidadeParcelas": 8,
                            "valorPrimeiraParcela": 16.16,
                            "valorDemaisParcelas": 16.14,
                            "valorIOF": 8.88,
                            "valorJuros": 13.86,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 97,
                            "descricao": "1 x CARTAO PORTO SEGURO",
                            "quantidadeParcelas": 1,
                            "valorPrimeiraParcela": 108.54,
                            "valorDemaisParcelas": 0,
                            "valorIOF": 7.46,
                            "valorJuros": 0,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 97,
                            "descricao": "2 x CARTAO PORTO SEGURO",
                            "quantidadeParcelas": 2,
                            "valorPrimeiraParcela": 54.27,
                            "valorDemaisParcelas": 54.27,
                            "valorIOF": 7.46,
                            "valorJuros": 0,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 97,
                            "descricao": "3 x CARTAO PORTO SEGURO",
                            "quantidadeParcelas": 3,
                            "valorPrimeiraParcela": 36.18,
                            "valorDemaisParcelas": 36.18,
                            "valorIOF": 7.46,
                            "valorJuros": 0,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 97,
                            "descricao": "4 x CARTAO PORTO SEGURO",
                            "quantidadeParcelas": 4,
                            "valorPrimeiraParcela": 27.15,
                            "valorDemaisParcelas": 27.13,
                            "valorIOF": 7.46,
                            "valorJuros": 0,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 97,
                            "descricao": "5 x CARTAO PORTO SEGURO",
                            "quantidadeParcelas": 5,
                            "valorPrimeiraParcela": 21.7,
                            "valorDemaisParcelas": 21.71,
                            "valorIOF": 7.46,
                            "valorJuros": 0,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 97,
                            "descricao": "6 x CARTAO PORTO SEGURO",
                            "quantidadeParcelas": 6,
                            "valorPrimeiraParcela": 18.09,
                            "valorDemaisParcelas": 18.09,
                            "valorIOF": 7.46,
                            "valorJuros": 0,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 97,
                            "descricao": "7 x CARTAO PORTO SEGURO",
                            "quantidadeParcelas": 7,
                            "valorPrimeiraParcela": 15.48,
                            "valorDemaisParcelas": 15.51,
                            "valorIOF": 7.46,
                            "valorJuros": 0,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        },
                        {
                            "codigo": 97,
                            "descricao": "8 x CARTAO PORTO SEGURO",
                            "quantidadeParcelas": 8,
                            "valorPrimeiraParcela": 13.55,
                            "valorDemaisParcelas": 13.57,
                            "valorIOF": 7.46,
                            "valorJuros": 0,
                            "valorEncargos": 0,
                            "valorCustoApolice": 0
                        }
                    ]
                }
            ];

            const listaParcelamento_json = JSON.stringify(listaParcelamento);

            const listaParcelamento_query = encodeURIComponent(listaParcelamento_json);

            //constroi url da página de planos
            const urlPlanos = "./planos.html?listaParcelamento=" + listaParcelamento_query;

            //faz a requisição
            const response = await fetch('https://portoapi-sandbox.portoseguro.com.br/re/residencial/v1/habitual/orcamentos', options);

            //verifica se a requisição foi bem sucedida
            if (response.ok) {
                const data = await response.json();
                console.log(data);
                // redireciona para a página desejada
                window.location.replace(urlPlanos);
            } else {
                console.error('Erro na Requisição', response.status, response.statusText);
            }
        }

        //Adiciona o evento de submit no formulario
        const form = document.querySelector('#form');
        form.addEventListener('submit', submitForm);
    </script>

    <script>
        const range0 = document.getElementById("valorcoberturaincendio");
        const rangeValue0 = document.querySelector(".range-value0");

        range0.addEventListener("input", () => {
            const valor = parseInt(range0.value);
            rangeValue0.innerHTML = `R$ ${valor}`;
        });
        const range1 = document.getElementById("valorcoberturasubstracaobens");
        const rangeValue1 = document.querySelector(".range-value1");

        range1.addEventListener("input", () => {
            const valor = parseInt(range1.value);
            rangeValue1.innerHTML = `R$ ${valor}`;
        });
        const range2 = document.getElementById("valorcoberturapagamentoaluguel");
        const rangeValue2 = document.querySelector(".range-value2");

        range2.addEventListener("input", () => {
            const valor = parseInt(range2.value);
            rangeValue2.innerHTML = `R$ ${valor}`;
        });
    </script>
</body>

</html>